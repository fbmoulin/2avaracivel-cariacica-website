{% extends "base.html" %}

{% block title %}Tutorial: Configuração de Áudio do Zoom - 2ª Vara Cível de Cariacica{% endblock %}

{% block head %}
<meta name="description" content="Tutorial completo para configurar áudio no Zoom para audiências virtuais da 2ª Vara Cível de Cariacica. Guia passo a passo com acessibilidade completa.">
<meta name="keywords" content="zoom, áudio, configuração, audiência virtual, tribunal, cariacica">
<link rel="stylesheet" href="{{ url_for('static', filename='css/tutorial-visuals.css') }}">
<link rel="preload" href="{{ url_for('static', filename='images/zoom_tutorial_gif/tutorial_zoom_audio_pt.gif') }}" as="image">
{% endblock %}

{% block content %}
<div class="tutorial-container" role="main" aria-label="Tutorial de configuração de áudio do Zoom">
    <!-- Tutorial Header -->
    <header class="tutorial-header">
        <h1 class="tutorial-title">Como Configurar o Áudio no Zoom</h1>
        <p class="tutorial-subtitle">
            Tutorial completo para garantir a melhor qualidade de áudio em suas audiências virtuais na 2ª Vara Cível de Cariacica
        </p>
        
        <!-- Accessibility Controls -->
        <div class="accessibility-controls" role="region" aria-label="Controles de acessibilidade">
            <button id="high-contrast-btn" class="accessibility-btn" aria-pressed="false">
                <i class="fas fa-adjust" aria-hidden="true"></i>
                <span>Alto Contraste</span>
            </button>
            <button id="large-text-btn" class="accessibility-btn" aria-pressed="false">
                <i class="fas fa-text-height" aria-hidden="true"></i>
                <span>Texto Grande</span>
            </button>
            <button id="screen-reader-btn" class="accessibility-btn" aria-pressed="false">
                <i class="fas fa-assistive-listening-systems" aria-hidden="true"></i>
                <span>Leitor de Tela</span>
            </button>
            <button id="audio-description-btn" class="accessibility-btn" aria-pressed="false">
                <i class="fas fa-volume-up" aria-hidden="true"></i>
                <span>Áudio Descrição</span>
            </button>
        </div>
    </header>

    <!-- Tutorial Navigation Tabs -->
    <nav class="tutorial-tabs" role="tablist" aria-label="Opções de visualização do tutorial">
        <button class="tutorial-tab active" data-view="animation" role="tab" aria-selected="true" aria-controls="animation-view" id="animation-tab">
            <i class="fas fa-play-circle" aria-hidden="true"></i>
            Ver Animação
        </button>
        <button class="tutorial-tab" data-view="step-by-step" role="tab" aria-selected="false" aria-controls="step-by-step-view" id="step-by-step-tab">
            <i class="fas fa-list-ol" aria-hidden="true"></i>
            Passo a Passo
        </button>
    </nav>

    <!-- Tutorial Content -->
    <main class="tutorial-content">
        <!-- Animation View -->
        <section id="animation-view" class="content-section active" role="tabpanel" aria-labelledby="animation-tab">
            <div class="gif-container">
                <img src="{{ url_for('static', filename='images/zoom_tutorial_gif/tutorial_zoom_audio_pt.gif') }}" 
                     alt="Animação mostrando os 3 passos para configurar áudio no Zoom: acessar configurações, selecionar áudio e testar dispositivos" 
                     class="tutorial-gif"
                     loading="lazy">
                
                <!-- GIF Controls -->
                <div class="gif-controls" role="group" aria-label="Controles da animação">
                    <button id="gif-play-pause" class="gif-control-btn" aria-label="Pausar animação">
                        <i class="fas fa-pause" aria-hidden="true"></i>
                        <span>Pausar</span>
                    </button>
                    <button id="gif-restart" class="gif-control-btn" aria-label="Reiniciar animação">
                        <i class="fas fa-redo" aria-hidden="true"></i>
                        <span>Reiniciar</span>
                    </button>
                    <button id="gif-speed" class="gif-control-btn" data-speed="normal" aria-label="Alterar velocidade">
                        <i class="fas fa-tachometer-alt" aria-hidden="true"></i>
                        <span>Normal</span>
                    </button>
                </div>
            </div>
            
            <div class="animation-description">
                <h2>Resumo da Configuração</h2>
                <p>A animação acima mostra o processo completo de configuração de áudio no Zoom em três etapas simples:</p>
                <ol>
                    <li><strong>Acesse as Configurações:</strong> Clique no ícone de engrenagem no canto superior direito</li>
                    <li><strong>Selecione Áudio:</strong> Na janela de configurações, clique na aba "Áudio"</li>
                    <li><strong>Teste seus Dispositivos:</strong> Use os botões de teste para verificar microfone e alto-falantes</li>
                </ol>
            </div>
        </section>

        <!-- Step-by-Step View -->
        <section id="step-by-step-view" class="content-section" role="tabpanel" aria-labelledby="step-by-step-tab">
            <div class="step-by-step-container">
                <!-- Step 1 -->
                <article class="tutorial-step" id="step-1">
                    <div class="step-number" aria-hidden="true">1</div>
                    <div class="step-content">
                        <h3 class="step-title">Acessar as Configurações do Zoom</h3>
                        <p class="step-description">
                            Primeiro, você precisa abrir as configurações do Zoom. Procure pelo ícone de engrenagem 
                            (configurações) no canto superior direito da tela principal do Zoom e clique nele.
                        </p>
                        <div class="step-tips">
                            <h4>Dicas importantes:</h4>
                            <ul>
                                <li>Certifique-se de que o Zoom está aberto e funcionando</li>
                                <li>O ícone de configurações parece uma pequena engrenagem</li>
                                <li>Se não encontrar o ícone, tente mover o mouse pela tela</li>
                            </ul>
                        </div>
                    </div>
                    <div class="step-image-container">
                        <img src="{{ url_for('static', filename='images/zoom_tutorial/zoom_audio_config_1_pt.png') }}" 
                             alt="Tela principal do Zoom mostrando o ícone de configurações (engrenagem) destacado no canto superior direito"
                             class="step-image"
                             loading="lazy"
                             tabindex="0"
                             role="button"
                             aria-label="Ampliar imagem do passo 1">
                    </div>
                </article>

                <!-- Step 2 -->
                <article class="tutorial-step" id="step-2">
                    <div class="step-number" aria-hidden="true">2</div>
                    <div class="step-content">
                        <h3 class="step-title">Navegar para Configurações de Áudio</h3>
                        <p class="step-description">
                            Após clicar nas configurações, uma nova janela será aberta. Nesta janela, você verá 
                            várias abas no lado esquerdo. Clique na aba "Áudio" para acessar as configurações 
                            específicas de som.
                        </p>
                        <div class="step-tips">
                            <h4>O que você verá:</h4>
                            <ul>
                                <li>Uma lista de opções no lado esquerdo da janela</li>
                                <li>A aba "Áudio" destacada quando selecionada</li>
                                <li>Configurações de microfone e alto-falantes na área principal</li>
                            </ul>
                        </div>
                    </div>
                    <div class="step-image-container">
                        <img src="{{ url_for('static', filename='images/zoom_tutorial/zoom_audio_config_2_pt.png') }}" 
                             alt="Janela de configurações do Zoom com a aba Áudio selecionada, mostrando opções de microfone e alto-falantes"
                             class="step-image"
                             loading="lazy"
                             tabindex="0"
                             role="button"
                             aria-label="Ampliar imagem do passo 2">
                    </div>
                </article>

                <!-- Step 3 -->
                <article class="tutorial-step" id="step-3">
                    <div class="step-number" aria-hidden="true">3</div>
                    <div class="step-content">
                        <h3 class="step-title">Testar e Ajustar Configurações de Áudio</h3>
                        <p class="step-description">
                            Agora é hora de testar seu áudio! Na seção de configurações de áudio, você encontrará 
                            botões para testar tanto o microfone quanto os alto-falantes. Use esses botões para 
                            garantir que tudo está funcionando corretamente.
                        </p>
                        <div class="step-tips">
                            <h4>Como testar:</h4>
                            <ul>
                                <li><strong>Microfone:</strong> Clique em "Testar Mic" e fale - você deve ver o indicador de nível se mover</li>
                                <li><strong>Alto-falantes:</strong> Clique em "Testar Alto-falante" e você deve ouvir um som de teste</li>
                                <li><strong>Ajustes:</strong> Use os menus suspensos para selecionar diferentes dispositivos se necessário</li>
                            </ul>
                        </div>
                        <div class="troubleshooting">
                            <h4>Problemas comuns:</h4>
                            <ul>
                                <li>Se não ouvir nada, verifique se o volume do computador não está mudo</li>
                                <li>Se o microfone não funcionar, verifique se ele está conectado e permitido pelo sistema</li>
                                <li>Experimente diferentes dispositivos nos menus suspensos</li>
                            </ul>
                        </div>
                    </div>
                    <div class="step-image-container">
                        <img src="{{ url_for('static', filename='images/zoom_tutorial/zoom_audio_config_3_pt.png') }}" 
                             alt="Seção de teste de áudio do Zoom mostrando botões para testar microfone e alto-falantes com indicadores de nível"
                             class="step-image"
                             loading="lazy"
                             tabindex="0"
                             role="button"
                             aria-label="Ampliar imagem do passo 3">
                    </div>
                </article>
            </div>
        </section>
    </main>

    <!-- FAQ Section -->
    <section class="faq-section" role="region" aria-label="Perguntas frequentes">
        <h2 class="faq-title">Perguntas Frequentes</h2>
        
        <div class="faq-item">
            <button class="faq-question" aria-expanded="false">
                <span>Não consigo encontrar o ícone de configurações. O que fazer?</span>
                <i class="fas fa-chevron-down" aria-hidden="true"></i>
            </button>
            <div class="faq-answer">
                <p>Se o ícone de configurações não está visível, tente estas soluções:</p>
                <ul>
                    <li>Mova o mouse pela tela - às vezes os controles ficam ocultos</li>
                    <li>Pressione a tecla Alt para mostrar a barra de menu</li>
                    <li>Clique com o botão direito na tela do Zoom e procure por "Configurações"</li>
                    <li>Use o atalho Alt+S (Windows) ou Cmd+, (Mac)</li>
                </ul>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question" aria-expanded="false">
                <span>Meu microfone não está funcionando. Como resolver?</span>
                <i class="fas fa-chevron-down" aria-hidden="true"></i>
            </button>
            <div class="faq-answer">
                <p>Para resolver problemas com o microfone:</p>
                <ul>
                    <li>Verifique se o microfone está conectado corretamente</li>
                    <li>Nas configurações de áudio, selecione o microfone correto no menu suspenso</li>
                    <li>Verifique se o Zoom tem permissão para acessar o microfone</li>
                    <li>Teste o microfone em outros programas para confirmar que funciona</li>
                    <li>Reinicie o Zoom e tente novamente</li>
                </ul>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question" aria-expanded="false">
                <span>Não estou ouvindo nada. Como verificar os alto-falantes?</span>
                <i class="fas fa-chevron-down" aria-hidden="true"></i>
            </button>
            <div class="faq-answer">
                <p>Para resolver problemas de áudio:</p>
                <ul>
                    <li>Verifique se o volume do computador não está no mínimo ou mudo</li>
                    <li>Nas configurações de áudio, selecione o alto-falante correto</li>
                    <li>Teste outros aplicativos para verificar se o som funciona</li>
                    <li>Verifique se fones de ouvido estão conectados (se aplicável)</li>
                    <li>Use o botão "Testar Alto-falante" nas configurações do Zoom</li>
                </ul>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question" aria-expanded="false">
                <span>Durante a audiência, o áudio está com eco. Como resolver?</span>
                <i class="fas fa-chevron-down" aria-hidden="true"></i>
            </button>
            <div class="faq-answer">
                <p>Para eliminar o eco durante a audiência:</p>
                <ul>
                    <li>Use fones de ouvido ou headset em vez dos alto-falantes do computador</li>
                    <li>Mantenha-se mudo quando não estiver falando</li>
                    <li>Certifique-se de que apenas uma pessoa está com o microfone aberto por vez</li>
                    <li>Nas configurações avançadas de áudio, ative a "Supressão de eco"</li>
                    <li>Evite ter duas pessoas na mesma sala com microfones abertos</li>
                </ul>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question" aria-expanded="false">
                <span>Como melhorar a qualidade do áudio para a audiência?</span>
                <i class="fas fa-chevron-down" aria-hidden="true"></i>
            </button>
            <div class="faq-answer">
                <p>Para garantir a melhor qualidade de áudio:</p>
                <ul>
                    <li>Use um ambiente silencioso, sem ruídos de fundo</li>
                    <li>Prefira fones de ouvido com microfone dedicado</li>
                    <li>Fale de forma clara e em ritmo normal</li>
                    <li>Mantenha uma distância adequada do microfone (cerca de 15-20 cm)</li>
                    <li>Teste tudo antes da audiência começar</li>
                    <li>Tenha uma conexão de internet estável</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Action Buttons -->
    <footer class="action-buttons" role="region" aria-label="Ações adicionais">
        <button onclick="window.print()" class="action-btn secondary">
            <i class="fas fa-print" aria-hidden="true"></i>
            <span>Imprimir Tutorial</span>
        </button>
        
        <a href="{{ url_for('contato') }}" class="action-btn">
            <i class="fas fa-headset" aria-hidden="true"></i>
            <span>Precisa de Ajuda?</span>
        </a>
        
        <a href="{{ url_for('servicos_audiencias') }}" class="action-btn">
            <i class="fas fa-video" aria-hidden="true"></i>
            <span>Sobre Audiências Virtuais</span>
        </a>
        
        <button id="tutorial-shortcuts" class="action-btn secondary" aria-label="Mostrar atalhos de teclado">
            <i class="fas fa-keyboard" aria-hidden="true"></i>
            <span>Atalhos</span>
        </button>
    </footer>
</div>

<!-- Image Modal -->
<div class="image-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true">
    <div class="modal-content">
        <button class="modal-close" aria-label="Fechar imagem ampliada">
            <i class="fas fa-times" aria-hidden="true"></i>
        </button>
        <img class="modal-image" alt="" id="modal-title">
    </div>
</div>

<!-- Screen Reader Only Instructions -->
<div class="sr-only" id="keyboard-instructions">
    <h2>Instruções para Navegação por Teclado</h2>
    <ul>
        <li>Use Tab para navegar pelos elementos</li>
        <li>Use Enter ou Espaço para ativar botões e links</li>
        <li>Use Escape para fechar modais</li>
        <li>Use Ctrl + Setas para navegar entre passos</li>
        <li>Use Ctrl + 1, 2, ou 3 para ir diretamente a um passo</li>
    </ul>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/tutorial-accessibility.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/tutorial-toggle.js') }}" defer></script>
<script>
// Tutorial initialization and keyboard shortcuts
document.addEventListener('DOMContentLoaded', function() {
    // Show keyboard shortcuts
    const shortcutsBtn = document.getElementById('tutorial-shortcuts');
    if (shortcutsBtn) {
        shortcutsBtn.addEventListener('click', function() {
            if (window.tutorialAccessibility) {
                window.tutorialAccessibility.showKeyboardShortcuts();
            }
        });
    }
    
    // Enhanced print functionality
    window.addEventListener('beforeprint', function() {
        // Ensure all content is visible for printing
        const sections = document.querySelectorAll('.content-section');
        sections.forEach(section => {
            section.style.display = 'block';
        });
    });
    
    window.addEventListener('afterprint', function() {
        // Restore original display states
        const sections = document.querySelectorAll('.content-section:not(.active)');
        sections.forEach(section => {
            section.style.display = 'none';
        });
    });
    
    // Performance optimization - lazy load GIF
    const gif = document.querySelector('.tutorial-gif');
    if (gif && 'IntersectionObserver' in window) {
        const gifObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // GIF is already loaded, just ensure it's visible
                    gif.style.opacity = '1';
                    gifObserver.unobserve(gif);
                }
            });
        });
        
        gifObserver.observe(gif);
    }
    
    console.log('Tutorial do Zoom inicializado com acessibilidade completa');
});
</script>
{% endblock %}